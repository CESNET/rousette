{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "fa61c8d0_1d5116c4",
        "filename": "src/restconf/DynamicSubscriptions.cpp",
        "patchSetId": 7
      },
      "lineNbr": 147,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-07T08:57:50Z",
      "side": 1,
      "message": "This entire condition looks very strange to me. I think that as a minimum, the selected part must be removed.\n\nBut I would very much prefer to make the access check a bit more structured, e.g.:\n```\n// All RPCs are already NACM-checked by the caller\nif (isKill) {\n    // NACM layer already takes care of nacm:default-deny-all, nothing to do here\n} else if (subscriptionData-\u003euser !\u003d session.getNacmUser()) {\n    // as per RFC 8639, only the creator can delete subscriptions (an admin must use kill-subscription)\n    throw ...\n}\n```",
      "range": {
        "startLine": 147,
        "startChar": 16,
        "endLine": 147,
        "endChar": 73
      },
      "revId": "6f7415ce746bb92b198e1e7235aa72a5be0f146e",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82ef6744_37875e77",
        "filename": "src/restconf/DynamicSubscriptions.cpp",
        "patchSetId": 7
      },
      "lineNbr": 147,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2025-10-16T08:17:01Z",
      "side": 1,
      "message": "I think it is correct. This has nothing to do with NACM.\nThis condition checks that if `delete-subscription` was invoked by the `root` and it is trying to delete a subscription *not created by the `root`* it cannot be done.",
      "parentUuid": "fa61c8d0_1d5116c4",
      "range": {
        "startLine": 147,
        "startChar": 16,
        "endLine": 147,
        "endChar": 73
      },
      "revId": "6f7415ce746bb92b198e1e7235aa72a5be0f146e",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "277e1b5e_4deae5bd",
        "filename": "src/restconf/DynamicSubscriptions.cpp",
        "patchSetId": 7
      },
      "lineNbr": 147,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2025-11-06T09:34:28Z",
      "side": 1,
      "message": "On today call we discussed this and the code is a little messy -\u003e it is not clear what is checked where (NACM, disabling deleting other user\u0027s subscr). Add comments for that or restructd code",
      "parentUuid": "82ef6744_37875e77",
      "range": {
        "startLine": 147,
        "startChar": 16,
        "endLine": 147,
        "endChar": 73
      },
      "revId": "6f7415ce746bb92b198e1e7235aa72a5be0f146e",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3359703_a67d0cc0",
        "filename": "src/restconf/DynamicSubscriptions.cpp",
        "patchSetId": 7
      },
      "lineNbr": 148,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-07T08:57:50Z",
      "side": 1,
      "message": "nit: please add a FIXME for passing additional error info (`rc:yang-data delete-subscription-error-info` from RFC 8639)",
      "revId": "6f7415ce746bb92b198e1e7235aa72a5be0f146e",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4d6492a4_b0791f34",
        "filename": "src/restconf/DynamicSubscriptions.cpp",
        "patchSetId": 7
      },
      "lineNbr": 148,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2025-10-16T08:17:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e3359703_a67d0cc0",
      "revId": "6f7415ce746bb92b198e1e7235aa72a5be0f146e",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a739f31f_dc2bc0dc",
        "filename": "src/restconf/DynamicSubscriptions.cpp",
        "patchSetId": 7
      },
      "lineNbr": 198,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-07T08:57:50Z",
      "side": 1,
      "message": "could you please refactor this so that it\u0027s implemented like the other overload?",
      "revId": "6f7415ce746bb92b198e1e7235aa72a5be0f146e",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f5671267_a1976efd",
        "filename": "src/restconf/DynamicSubscriptions.cpp",
        "patchSetId": 7
      },
      "lineNbr": 198,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2025-10-16T08:17:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a739f31f_dc2bc0dc",
      "revId": "6f7415ce746bb92b198e1e7235aa72a5be0f146e",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c09e7f8_a5eacf3a",
        "filename": "tests/restconf-subscribed-notifications.cpp",
        "patchSetId": 7
      },
      "lineNbr": 410,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-10-07T08:57:50Z",
      "side": 1,
      "message": "I think that this really needs a check for two different users (which are both \"regular ones\", not the anonymous one).",
      "revId": "6f7415ce746bb92b198e1e7235aa72a5be0f146e",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a52a90ff_cfbfab27",
        "filename": "tests/restconf-subscribed-notifications.cpp",
        "patchSetId": 7
      },
      "lineNbr": 410,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2025-10-16T08:17:01Z",
      "side": 1,
      "message": "I am not sure I follow what you mean, subscription is created by the `dwdm` user and third SECTION checks that `norules` user cannot delete it. Is that not what you mean?",
      "parentUuid": "3c09e7f8_a5eacf3a",
      "revId": "6f7415ce746bb92b198e1e7235aa72a5be0f146e",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31021ed4_ee877af0",
        "filename": "tests/restconf-subscribed-notifications.cpp",
        "patchSetId": 7
      },
      "lineNbr": 410,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2025-11-06T09:34:28Z",
      "side": 1,
      "message": "Add a test that root cannot delete (must kill, but kill is tested below)",
      "parentUuid": "a52a90ff_cfbfab27",
      "revId": "6f7415ce746bb92b198e1e7235aa72a5be0f146e",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    }
  ]
}